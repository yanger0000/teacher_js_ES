<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>06_箭头函数</title>

</head>
<body>
<button id="btn">点我吧</button>
<!--
* 箭头函数：
  * 作用: 一般用于定义匿名函数（也可以定义正常函数）
  * 基本语法:
        1.没有参数: () => console.log('xxxx')
        2.一个参数: i => i+2
        3.大于一个参数: (i,j) => i+j
  * 关于函数体需要注意的：
        1.如果函数体只有一行，函数体不用大括号: 默认返回结果
        2.函数体如果有多个语句, 需要用{}包围，若有需要返回的内容，需要手动返回
        
* 使用场景: 多用来定义回调函数

* 箭头函数的特点：
    1、简洁
    2、箭头函数没有自己的this，箭头函数的this不是调用的时候决定的，而是在定义的时候。
    3、扩展理解：箭头函数的this看外层的是否有函数，
        如果有，外层函数的this就是内部箭头函数的this，
        如果没有，则this是window。
    4、箭头函数不能用于定义构造函数，因为没有自己的this,而且没有自己的原型对象
-->
<script type="text/javascript">
  
  //正常定义一个函数
  /*function demo(a) {
    console.log(a)
  }
  demo(1)*/
  
  //使用箭头函数定义,形如一个箭头：  ()=>{}
  /*let demo = (a)=>{
    console.log(a)
  }
  demo(2)*/
  
  //箭头的左侧，如果没有接受参数,()不能省略
  /*let demo = ()=>{
    console.log('hello!')
  }
  demo()*/

  //箭头的左侧，如果只有一个参数，()能省略
  /*let demo = a =>{
    console.log(a)
  }
  demo(3)*/

  //箭头的左侧，如果只有一个以上参数，()不能省略
  /*let demo = (a,b,c) =>{
    console.log(a,b,c)
  }
  demo(1,2,3)*/
  
  //箭头的右侧，如果函数体只有一行，能省略{}，一旦省略了{}，默认返回这行函数体的执行结果
  /*let demo = a => a * 4
  let result = demo(3)
  console.log(result);*/

  //箭头的右侧，如果函数体有多行，不能省略{}
  /* let demo = a => {
    let x = a * 4
    let y = a + 1
    return x+y
  }
  let result = demo(3)
  console.log(result);*/
  
  //关于箭头函数的this
  /*function test1() {
    console.log(this)
    let test2 = ()=>{
      console.log(this)
    }
    test2()
  }
  test1() //直接调用test1
  test1.call({m:1,n:2})
  new test1()*/
  function test1() {
    console.log(this)
    let test2 = ()=>{
      console.log(this)
    }
    test2()
  }
  test1() //直接调用test1
  test1.call({m:1,n:2})
  new test1()
  console.log(test1.prototype)
  
  //IIFE
  (()=>{
    alert(1)
  })()
  
  //如下代码的this是window
  'use strict'
  setTimeout(()=>{
    console.log(this)
  },1000)
  
</script>
</body>
</html>